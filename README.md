# HTTP Server Scanner

PowerShell スクリプトを使用して、ローカルネットワーク内の HTTP サーバーを検出するツールです。

## 概要

このスクリプトは、ローカルネットワーク内の HTTP サーバー（ポート 80 で稼働）を自動的に検出し、以下の情報を収集します：

- IP アドレス
- HTTP ステータスコード
- サーバー情報（Server ヘッダー）
- ページタイトル

検出結果はコンソールに表示され、CSV ファイルとしてデスクトップに保存されます。

## 動作要件

- Windows 10/11
- PowerShell 5.1 以上

## 使用方法

1. このリポジトリをクローンまたはダウンロードします
2. PowerShell を開きます
3. スクリプトの実行ポリシーを変更します（初回のみ）：
   ```powershell
   Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser
   ```
4. スクリプトのディレクトリに移動し、実行します：
   ```powershell
   .\HTTPScanner.ps1
   ```

## ⚠️ 重要な注意事項

### 実行ポリシーについて
`Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser` コマンドは、現在のユーザーに対してローカルで作成したスクリプトを実行できるようにします。この設定はユーザープロファイルに保存され、PowerShell セッションを閉じても維持されます。セキュリティ上のリスクを最小限に抑えるため、範囲は現在のユーザーのみに限定されています。

### ファイルエンコーディングについて
このスクリプトは **UTF-8 with BOM** でエンコードする必要があります。他のエンコーディングで保存すると、日本語メッセージが正しく表示されない、または構文エラーが発生する可能性があります。

#### Visual Studio Code での保存方法:
1. ファイルを開いた状態で、画面右下のエンコーディング表示をクリック
2. 「UTF-8 with BOM としてエンコードを保存」を選択
3. ファイルを保存

または:
1. Ctrl+Shift+P キーを押してコマンドパレットを開く
2. 「File: Save with Encoding」を選択
3. 「UTF-8 with BOM」を選択

## 動作の仕組み

1. ローカル IP アドレスとサブネットマスクから、スキャン範囲を自動的に決定
2. 範囲内の各 IP アドレスに対して TCP 接続（ポート 80）を試行
3. 接続に成功した IP アドレスに対して HTTP リクエスト送信
4. レスポンスから情報を抽出し、結果を表示・保存

## 制限事項

- 現在のバージョンでは /24 サブネット（255.255.255.0）のみをスキャン対象としています
- 非標準ポートで稼働する HTTP サーバーは検出できません
- 大規模なネットワークでは完了までに時間がかかる場合があります

## ライセンス

[MIT License](LICENSE)
